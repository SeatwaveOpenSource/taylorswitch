<html>
<head>
    <title>Taylor Switch</title>
</head>
<body>
    <h1>Taylor Switch</h1>
<ul id="json">
    <li>no json yet</li>
</ul>

    <script>
        var xhr = new XMLHttpRequest();
        var DONE = 4;
        var OK = 200;
        xhr.onreadystatechange = function () {
            if (xhr.readyState == DONE && xhr.status == OK) {
                var json = JSON.parse(xhr.responseText);
                document.getElementById("json").innerHTML = "";
                json.forEach(function (item, index) {
                    var node = document.createElement("li");
                    var text = document.createTextNode("index: " + index + " " + item.name + ": " + item.enabled);
                    node.appendChild(text);
                    document.getElementById("json").appendChild(node);
                });
            }
        };

        xhr.open("GET", "http://localhost:5001/getFeatures", true);
        xhr.send();
    </script>
</body>
</html>